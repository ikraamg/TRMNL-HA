# High Quality E-ink Configuration
# For high-resolution e-ink displays that support more gray levels
#
# This configuration uses 4-bit grayscale (16 gray levels) which produces
# smoother gradients and better image quality, at the cost of slightly
# larger file sizes.

name: "Puppet"
version: "2.0.0"
slug: "puppet"

access_token: "YOUR_LONG_LIVED_ACCESS_TOKEN_HERE"
home_assistant_url: "http://homeassistant:8123"
keep_browser_open: false

schedules:
  # High-quality dashboard for living room display
  - name: "Living Room HD Display"

    # Update every 15 minutes
    cron: "*/15 * * * *"

    # Main dashboard
    dashboard_path: "/lovelace/0"

    # High resolution viewport
    # Kindle Paperwhite portrait: 1072x1448
    viewport: "1072x1448"

    # Upload endpoint
    webhook_url: "https://your-server.com/api/upload/living-room"

    # PNG format for best quality
    format: png

    # Zoom slightly to fit more content
    zoom: 0.95

    # Use specific theme optimized for e-ink
    # Install: https://github.com/TilmanGriesel/graphite
    theme: "Graphite E-ink Light"

    # Wait a bit longer for high-res rendering
    wait: 3000

    # High-Quality Dithering (4-bit)
    dithering:
      enabled: true
      method: floyd-steinberg

      # 4-bit = 16 gray levels
      # Provides smooth gradients and excellent image quality
      bit_depth: 4

      gamma_correction: true

      # Fine-tune for better contrast
      # Slightly crush blacks and whites for punchier image
      black_level: 5
      white_level: 95

  # Alternative: Weather dashboard with different settings
  - name: "Weather Display"

    # Update every 30 minutes (weather doesn't change that fast)
    cron: "*/30 * * * *"

    dashboard_path: "/lovelace/weather"

    # Smaller viewport for compact display
    viewport: "600x800"

    webhook_url: "https://your-server.com/api/upload/weather"

    # Rotate 90 degrees for landscape orientation
    rotate: 90

    dithering:
      enabled: true
      method: floyd-steinberg
      bit_depth: 4
      gamma_correction: true

      # Weather images benefit from more aggressive contrast
      black_level: 10
      white_level: 90

# Performance Tips:
# - 4-bit images are 2-3x larger than 2-bit
# - Processing time is similar (~200-300ms)
# - Higher resolution viewports take longer to render
# - Use appropriate wait time for complex dashboards
